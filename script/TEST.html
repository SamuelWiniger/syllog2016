<!doctype html>
<html>
  <head>
	<title>Experiment</title>
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
  	<script src="js/snap.svg-min.js"></script>
    <script src="../jspsych_new.js"></script>
  	<script src="../plugins/jspsych-text_adapted.js"></script>
  	<script src="../plugins/jspsych-instructions.js"></script>
  	<script src="../plugins/jspsych-html.js"></script>
  	<script src="../plugins/jspsych-survey-multi-choice.js"></script>
  	<script src="../plugins/jspsych-survey-text.js"></script>
    <script src="../plugins/jspsych-survey.js"></script>
    <script src="../plugins/jspsych-fullscreen.js"></script>
    <script src="../plugins/jspsych-button-response.js"></script>
    <script src="../plugins/jspsych-button-response-syllog.js"></script>
    <script src="../plugins/jspsych-survey-likert.js"></script>
  	<script src="./texts.js"></script>
      <link rel="stylesheet" href="css/jquery-ui.css"></link>
      <link rel="stylesheet" href="../css/jspsych.css" type="text/css"></link>
      <meta charset="UTF-8">
    <style>
      img { width: 300px; }
    </style>
  </head>
  <body>
    <div id="jspsych-target"></div>
	<div id="demo"></div>
  </body>
  <script>

/******************************************************************************/
/**************************   Initializing  ***********************************/

var timeline = [];

var Subject_ID = jsPsych.randomization.randomID(16);
var tmpdate = (new Date());
var date = tmpdate.toUTCString();


var errStyle = 'color:red;margin-top:200px;text-align:center;font-weight:bold;';

function getPar(str,style){
    if (typeof style == 'undefined'){
      style='';
    }
    return "<div class='jspsych-display-element'><p style='"+style+"'>"+str+"</p></div>"
  }

  /*********************************************************************/


  var q1 = [
  	"What is your age?",
  	"What is your gender?",
  	"What is your employment status?",
    "What is the highest degree or level of education you have completed?"];
  var q2 =["Do you have any training in formal logic (e.g., taken a course)?",
  	"Do you have programming experience in more than one programming language?",
    "Please rate your math skills on the scale from 1 to 10.",
    "Did you solve all the taks conscientiously? Did you seriously attempt to solve all problems? (This question has no influence on your reward.)"];//ask Peter which is better.
  var q3 = ["If you want to leave any comments, please write them below:"];

  var opt1 = ["Male", "Female", "Other / No answer"];
  var opt2 = ["Working", "Student", "Seeking work", "Other"];
  var opt3 = ["Less than high school","High school graduate", "Some higher education, no degree", "Higher education (e.g., bachelor's degree, associate degree)", "Post graduate degree (e.g., master's degree, doctorate degree)",];
  var opt4 = ["Yes", "No"]
  var opt5 = ["Yes", "No",];
  var opt6 = ["1 (elementary school level)","2","3","4","5","6","7","8","9","10 (PhD in math or equivalent)"];
  var opt7 = ["Yes (my data can be used)", "No (better not use my data)"];

  var survey_p1 = {
  	type: 'survey',
  	questions: q1,
  	options: ["0", opt1, opt2, opt3],
  	required: [true, true, true, true]
  };
  timeline.push(survey_p1);

  var survey_p2 = {
  	type: 'survey-multi-choice',
  	questions: q2,
  	options: [opt4, opt5, opt6, opt7],
  	required: [true, true, true, true]
  };
  timeline.push(survey_p2);

  var survey_p3 = {
  	type: 'survey-text',
  	questions: q3,
  	rows: [5],
  	columns: [90],
  	preamble: getPar(texts.save),
  	on_finish: function(data){
  				var csvString = jsPsych.data.dataAsCSV();
  				var jsonString = jsPsych.data.dataAsJSON();
  				saveData(Subject_ID, csvString, jsonString)
  			}
  };
  timeline.push(survey_p3);



  /******************************************************************************/
  /**************************   Data saving  ************************************/

  /* */
    jsPsych.init({
      display_element: $('#jspsych-target'),
      timeline: timeline,
  	  default_iti: 100,
      on_finish: function() {
          jsPsych.data.displayData();
        }
      });
    </script>
  </html>
